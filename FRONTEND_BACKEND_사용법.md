# 프론트엔드-백엔드 연동 투자보고서 시스템 사용법

## 🚀 시스템 개요

터미널에서 기업명을 입력하던 방식을 웹 프론트엔드에서 입력받아 PDF를 생성하는 방식으로 변경했습니다.

### 시스템 구성
- **백엔드**: Flask API 서버 (`app.py`)
- **프론트엔드**: Next.js 웹 애플리케이션 (`src/frontend/`)
- **데이터 처리**: 기존 분석 로직 재사용

## 📋 사전 준비

### 1. 환경 변수 설정
`.env` 파일에 다음 API 키들을 설정하세요:
```
GPT_KEY=your_openai_api_key
NEWSAPI_KEY=your_newsapi_key
```

### 2. Python 의존성 설치
```bash
pip install -r requirements.txt
```

### 3. Node.js 의존성 설치
```bash
cd src/frontend
npm install
```

## 🖥️ 시스템 실행

### 1단계: 백엔드 API 서버 실행
프로젝트 루트 디렉토리에서:
```bash
python app.py
```

서버가 `http://localhost:5001`에서 실행됩니다.

### 2단계: 프론트엔드 개발 서버 실행
새 터미널을 열고:
```bash
cd src/frontend
npm run dev
```

프론트엔드가 `http://localhost:3000`에서 실행됩니다.

## 🌐 사용법

1. 브라우저에서 `http://localhost:3000` 접속
2. "AI 투자 보고서 생성" 클릭
3. 분석하고 싶은 기업명 입력 (예: 삼성전자, SK하이닉스 등)
4. "투자 보고서 생성하기" 버튼 클릭
5. 1-2분 후 분석 결과 확인
6. PDF 다운로드 버튼으로 보고서 다운로드

## 🔧 API 엔드포인트

### GET `/api/health`
- 서버 상태 확인

### GET `/api/supported-companies`
- 지원되는 기업 목록 조회

### POST `/api/generate-report`
- 투자보고서 생성
- 요청 본문: `{"company_name": "삼성전자"}`

### GET `/api/download-pdf/<filename>`
- PDF 파일 다운로드

## 📁 생성되는 파일

보고서는 `reports/` 디렉토리에 저장됩니다:
- `{기업명}_report_{날짜}_{시간}.json` - JSON 형태 보고서
- `{기업명}_report_{날짜}_{시간}.pdf` - PDF 형태 보고서

## 🚨 주의사항

1. **백엔드 서버가 먼저 실행되어야 합니다**
2. API 키가 올바르게 설정되어야 합니다
3. 보고서 생성에는 1-2분이 소요됩니다
4. 네트워크 연결이 필요합니다 (실시간 주가/뉴스 데이터)

## 🐛 문제 해결

### "서버와 통신 중 오류가 발생했습니다"
- 백엔드 서버(`http://localhost:5001`)가 실행 중인지 확인
- 터미널에서 `python app.py` 실행

### "지원 기업 목록을 불러올 수 없습니다"
- 백엔드 서버 연결 상태 확인
- API 키 설정 확인

### PDF 다운로드 실패
- 브라우저의 팝업 차단 설정 확인
- reports 디렉토리 권한 확인

## 📊 기능 특징

- ✅ 실시간 주가 데이터 분석
- ✅ 최신 뉴스 기반 시장 동향 분석  
- ✅ AI 기반 투자 의견 생성
- ✅ PDF 보고서 자동 생성
- ✅ 웹 UI를 통한 쉬운 사용
- ✅ 지원 기업 목록 자동 로드
- ✅ 실시간 진행 상황 표시

## 🔄 기존 터미널 방식과의 차이점

| 구분 | 기존 방식 | 새로운 방식 |
|------|-----------|-------------|
| 인터페이스 | 터미널 CLI | 웹 브라우저 |
| 사용법 | `python example_usage.py` | 브라우저에서 클릭 |
| 기업명 입력 | 키보드 입력 | 웹 폼 + 지원기업 목록 |
| 결과 확인 | 터미널 출력 | 웹 페이지 + 다운로드 |
| 사용자 경험 | 개발자 친화적 | 일반 사용자 친화적 |